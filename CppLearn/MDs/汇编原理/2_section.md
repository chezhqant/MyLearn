## section 2 寄存器（CPU 工作原理）     

1.  8086 CPU 有14个寄存器，每个寄存器有一个名称，这些寄存器是：AX, BX, CX, DX, SI, DI, SP, BP, IP, CS, DS, SS, ES, PSW。    
2.  AX, BX, CX, DX四个寄存器通常用来存放一般性的数据，被称为通用寄存器。      
3.  通用寄存器分为独立使用的8位寄存器。     
    + AX被分为 AH 和 AL。     
    + BX被分为 BH 和 BL。     
    + CX被分为 CH 和 CL。     
    + DX被分为 DH 和 DL。     
4.  假设AX寄存器中的数据为C5H。执行程序 `add al 93H` 。理论上相加所得的值为158H。但是 `al` 是8位寄存器，只能存放两个十六进制的数据，所以最高位1丢失。 `ax` 中的数据为 0058H。这里的丢失是指进位值不能在8位寄存器中保存。此时的 `al` 是作为独立的8位寄存器是用的，和 `ah` 没有关系，CPU在执行这条指令的时候认为两者是不相关的寄存器。        
5.  8086 CPU 有20位地址总线，可以传送20位地址，达到1MB的寻址能力。它采用一种在内部用两个16位地址合成的方法形成一个20位的物理地址。    
    ![alt 8086CPU相关部件的逻辑结构](,./../pitures/8086CPU相关部件的逻辑结构.PNG "8086CPU相关部件的逻辑结构")       
6.  当8086CPU要读写内存的时候：   
    + CPU中的相关部件提供两个16位地址，一个称为段地址，另一个称为偏移地址。      
    + 段地址和偏移地址通过内部总线送入一个称为地址加法器的部件。    
    + 地址加法器将两个16位地址合称为一个20位的物理地址。    
    + 地址加法器通过内部总线将20位物理地址送入输入输出控制电路，输入输出控制电路将20位物理地址送上地址总线。      
    + 20位物理地址总线传送到存储器。    
7.  地址加法器采用 __物理地址=段地址*16+偏移地址__ 的方法用段地址和偏移地址合成物理地址。其本质1含义是：CPU在访问内存时，用一个基础地址（段地址*16）和一个相对于基础地址的偏移地址相加，给出内存单元的物理地址。更一般地，8086CPU的这种寻址功能是“基础地址+偏移地址=物理地址”寻址模式的一种具体实现方案。 __段地址*16__ 可以看作是基础地址。     
